# Visualize Streamflows

```{warning} This page is not-yet mobile friendly.
```

The figures below provide for interactive visualization of the Pywr-DRB simulated streamflow timeseries at Trenton resulting from different inflow datasets. Click on the tabs above the figure to change the dataset being shown.

````{tab-set}
```{tab-item} Observed
:sync: key_obs_pub

Below is an interactive visualization of the simulated streamflow at Trenton, using the historic reconstruction (`obs_pub`) dataset.

Simulated streamflow at Trenton is decomposed into the streamflow from each of the upstream nodes in the model, and color-coded based on how much of the total flow at Trenton came from that location.

Click on one of the names in the **Source** legend to highlight the contribution from that specific node.

Zoom in on the figure to look more closely at a specific time period.

<div style="padding-bottom:50%; position:relative; display:block; width: 100%">
  <iframe src="../../_images/obs_pub_streamflow_stack_absolute.html"
  height = "100%" width = "100%"
  title = "Absolute flow contributions at Trenton"
  frameborder="0" allowfullscreen="" style="position:absolute; top:0; left: 0">
  </iframe>
</div>
```

```{tab-item} NHMv10
:sync: key_nhmv10

Below is an interactive visualization of the simulated streamflow at Trenton, using the NHMv10 (`nhmv10`) dataset.

Simulated streamflow at Trenton is decomposed into the streamflow from each of the upstream nodes in the model, and color-coded based on how much of the total flow at Trenton came from that location.

Click on one of the names in the **Source** legend to highlight the contribution from that specific node.

Zoom in on the figure to look more closely at a specific time period.

<div style="padding-bottom:50%; position:relative; display:block; width: 100%">
  <iframe src="../../_images/nhmv10_streamflow_stack_absolute.html"
  height = "100%" width = "100%"
  title = "Absolute flow contributions at Trenton"
  frameborder="0" allowfullscreen="" style="position:absolute; top:0; left: 0">
  </iframe>
</div>
```
````

#### Percentage flow contributions at Trenton

The above figure helps to show how the flow observed from Trenton is generated throughout the basin. However, due to the large variability in magnitude of the total flow at Trenton it can be difficult to visualize the relative flow volumes generated by each node.

The figure below shows the same streamflow contributions from nodes upstream of Trenton, however each contribution is shown as the ***fraction of total observed flow at Trenton***. If the simulation was perfect, these streamflow contributions would stack-up to 1.0.

````{tab-set}
```{tab-item} Observed
:sync: key_obs_pub

Click on one of the names in the **Source** legend to highlight the contribution from that specific node and zoom in on the figure to look more closely at a specific time period.

<div style="padding-bottom:50%; position:relative; display:block; width: 100%">
  <iframe src="../../_images/obs_pub_streamflow_stack_percent.html"
  height = "100%" width = "100%"
  title = "Percentage flow contributions at Trenton"
  frameborder="0" allowfullscreen="" style="position:absolute; top:0; left: 0">
  </iframe>
</div>
```

```{tab-item} NHMv10
:sync: key_nhmv10

Click on one of the names in the **Source** legend to highlight the contribution from that specific node and zoom in on the figure to look more closely at a specific time period.

<div style="padding-bottom:50%; position:relative; display:block; width: 100%">
  <iframe src="../../_images/nhmv10_streamflow_stack_percent.html"
  height = "100%" width = "100%"
  title = "Percentage flow contributions at Trenton"
  frameborder="0" allowfullscreen="" style="position:absolute; top:0; left: 0">
  </iframe>
</div>
```
````
